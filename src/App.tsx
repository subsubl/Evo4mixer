import React, { useState } from \"react\";\nimport { invoke } from \"@tauri-apps/api/core\";\nimport { Fader } from \"./components/Fader\";\nimport { \n  Settings, \n  Activity, \n  Mic2, \n  Headphones, \n  Volume2, \n  Radio,\n  Maximize2,\n  Minimize2\n} from \"lucide-react\";\n\nconst INPUTS = [\"Mic 1\", \"Mic 2\", \"DAW 1\", \"DAW 2\", \"LB 1\", \"LB 2\"];\nconst OUTPUTS = [\"Main Out\", \"Headphones\"];\n\nfunction App() {\n  const [activeOut, setActiveOut] = useState(0);\n  const [matrix, setMatrix] = useState([\n    [-128, -128, 0, 0, -128, -128],\n    [-128, -128, 0, 0, -128, -128],\n  ]);\n\n  async function handleVolumeChange(inputIdx: number, value: number) {\n    const newMatrix = [...matrix];\n    newMatrix[activeOut][inputIdx] = value;\n    setMatrix(newMatrix);\n\n    try {\n      await invoke(\"set_volume\", { \n        input: inputIdx, \n        output: activeOut, \n        db: value \n      });\n    } catch (e) {\n      console.error(\"Failed to set volume:\", e);\n    }\n  }\n\n  return (\n    <div className=\"flex flex-col h-screen bg-background text-base-content font-sans overflow-hidden\">\n      {/* Header */}\n      <header className=\"h-14 border-b border-white/5 bg-surface/50 backdrop-blur-md flex items-center justify-between px-6\">\n        <div className=\"flex items-center gap-3\">\n          <div className=\"bg-primary p-1.5 rounded-lg\">\n            <Activity className=\"size-5 text-black\" />\n          </div>\n          <h1 className=\"text-lg font-bold tracking-tight text-white\">\n            EVO<span className=\"text-primary text-2xl\">4</span>\n            <span className=\"ml-2 text-xs font-medium opacity-40 uppercase tracking-[0.2em]\">Mixer</span>\n          </h1>\n        </div>\n\n        <div className=\"flex items-center gap-4\">\n          <div className=\"flex bg-black/40 rounded-full p-1 border border-white/5\">\n            {OUTPUTS.map((name, i) => (\n              <button\n                key={i}\n                onClick={() => setActiveOut(i)}\n                className={`px-4 py-1.5 rounded-full text-xs font-bold transition-all ${\n                  activeOut === i \n                    ? \"bg-primary text-black shadow-lg\" \n                    : \"text-white/40 hover:text-white/60\"\n                }`}\n              >\n                {name.toUpperCase()}\n              </button>\n            ))}\n          </div>\n          <button className=\"p-2 hover:bg-white/5 rounded-full transition-colors\">\n            <Settings className=\"size-5 text-white/50\" />\n          </button>\n        </div>\n      </header>\n\n      {/* Main Content */}\n      <main className=\"flex-1 flex flex-col p-8 gap-8 overflow-x-auto\">\n        <div className=\"flex gap-6 justify-center min-w-max h-full items-center pb-8\">\n          {INPUTS.map((label, idx) => (\n            <div key={idx} className=\"bg-base-200/50 p-4 h-[320px] w-24 rounded-box border border-base-content/5 shadow-xl backdrop-blur-sm flex flex-col justify-center\">\n              <Fader\n                label={label}\n                value={matrix[activeOut][idx]}\n                onChange={(v) => handleVolumeChange(idx, v)}\n                color={label.includes(\"DAW\") ? \"bg-info\" : label.includes(\"LB\") ? \"bg-secondary\" : \"bg-primary\"}\n              />\n            </div>\n          ))}\n        </div>\n      </main>\n    </div>\n  );\n}export default App;